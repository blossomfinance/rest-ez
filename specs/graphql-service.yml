
meta:
  name: GraphQL location service
configuration:
  host: graphql.contentful.com
  scheme: https
  base_path: /content/v1
specs:
  - name: Get Location of a given ip address
    request:
      method: post
      path: /spaces/f8bqpb154z8p/environments/master
      query_params:
        - name: access_token
          value: 9d5de88248563ebc0d2ad688d0473f56fcd31c600e419d6c8962f6aed0150599
      headers:
        - name: content-type
          value: application/json
      payload:
        body:
          type: json
          content:
            query: >
              {
                lessonCollection(where: {OR: [{title_contains: "content"}, {title_contains: "SDK"}]}) {
                  items {
                    title
                    slug
                  }
                }
              }
            variables: null
            operationName: null
    response:
      status_code: 200
      json_data:
        - path: $.data.lessonCollection.items[0].title
          value: Content model
        - path: $.data.lessonCollection.items[0].slug
          value: content-model
