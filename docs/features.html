<!DOCTYPE html><html><head><title>Just Api | Just-API Features</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><meta name="robots" content="index,follow"><meta name="theme-color" content="#212121"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link href="https://fonts.googleapis.com/css?family=Hind:400,700&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:300,400&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/icon?family=Material+Icons%7CMaterial+Icons+Outlined&amp;display=swap" rel="stylesheet"><style>
      body, input, button {
        font-family: 'Hind', sans-serif;
      }

      code, .hljs {
        font-family: 'Source Code Pro', 'Courier New', Courier, monospace;
      }

      .icon-font {
        font-family: 'Material Icons';
        font-weight: normal;
        font-style: normal;
        font-size: 24px;  /* Preferred icon size */
        display: inline-block;
        line-height: 1;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: normal;
        white-space: nowrap;
        direction: ltr;
      
        /* Support for all WebKit browsers. */
        -webkit-font-smoothing: antialiased;
        /* Support for Safari and Chrome. */
        text-rendering: optimizeLegibility;
      
        /* Support for Firefox. */
        -moz-osx-font-smoothing: grayscale;
      
        /* Support for IE. */
        font-feature-settings: 'liga';
      }

      .icon-font.outline {
        font-family: 'Material Icons Outlined';
      }
    </style><link href="/just-api/docs/assets/codedoc-styles.css" rel="stylesheet"><script async="" defer="" src="/just-api/docs/assets/codedoc-bundle.js"></script></head><body><div class="header-0-0-5"><script async="" defer="" src="https://buttons.github.io/buttons.js"></script><a class="github-button" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="false" data-show-count="true" data-size="false" href="https://github.com/matmar10/just-api/">Star</a><br><br><a class="watermark-0-0-4" href="https://github.com/CONNECT-platform/codedoc" target="_blank">Created With<svg viewBox="0 0 536 296" version="1.1" xmlns="http://www.w3.org/2000/svg"><g id="codedoc" transform="translate(-244.000000, -364.000000)" fill-rule="nonzero"><path d="M580,532 C615.346224,532 644,560.653776 644,596 C644,631.346224 615.346224,660 580,660 C544.653776,660 516,631.346224 516,596 C516,560.653776 544.653776,532 580,532 Z M716,532 C751.346224,532 780,560.653776 780,596 C780,631.346224 751.346224,660 716,660 L692,660 C687.581722,660 684,656.418278 684,652 C684,647.581722 687.581722,644 692,644 L716,644 C742.509668,644 764,622.509668 764,596 C764,569.490332 742.509668,548 716,548 L692,548 C687.581722,548 684,544.418278 684,540 C684,535.581722 687.581722,532 692,532 L716,532 Z M468,532 C472.418278,532 476,535.581722 476,540 L476,652 C476,656.418278 472.418278,660 468,660 L444,660 C408.653776,660 380,631.346224 380,596 C380,560.653776 408.653776,532 444,532 L468,532 Z M332,532 C336.418278,532 340,535.581722 340,540 L340,652 C340,656.418278 336.418278,660 332,660 L252,660 C247.581722,660 244,656.418278 244,652 L244,540 C244,535.581722 247.581722,532 252,532 L332,532 Z M580,548 C553.490332,548 532,569.490332 532,596 C532,622.509668 553.490332,644 580,644 C606.509668,644 628,622.509668 628,596 C628,569.490332 606.509668,548 580,548 Z M461,548 L444,548 C417.490332,548 396,569.490332 396,596 C396,622.509668 417.490332,644 444,644 L461,644 L461,548 Z M444,364 C479.346224,364 508,392.653776 508,428 C508,463.346224 479.346224,492 444,492 C408.653776,492 380,463.346224 380,428 C380,392.653776 408.653776,364 444,364 Z M332,364 C336.418278,364 340,367.581722 340,372 C340,376.418278 336.418278,380 332,380 L308,380 C281.490332,380 260,401.490332 260,428 C260,454.509668 281.490332,476 308,476 L332,476 C336.418278,476 340,479.581722 340,484 C340,488.418278 336.418278,492 332,492 L308,492 C272.653776,492 244,463.346224 244,428 C244,392.653776 272.653776,364 308,364 L332,364 Z M580,364 C615.346224,364 644,392.653776 644,428 C644,463.346224 615.346224,492 580,492 L556,492 C551.581722,492 548,488.418278 548,484 L548,372 C548,367.581722 551.581722,364 556,364 L580,364 Z M772,364 C776.418278,364 780,367.581722 780,372 C780,376.418278 776.418278,380 772,380 L700,380 L700,420 L772,420 C776.418278,420 780,423.581722 780,428 C780,432.418278 776.418278,436 772,436 L700,436 L700,476 L772,476 C776.418278,476 780,479.581722 780,484 C780,488.418278 776.418278,492 772,492 L692,492 C687.581722,492 684,488.418278 684,484 L684,372 C684,367.581722 687.581722,364 692,364 L772,364 Z M444,380 C417.490332,380 396,401.490332 396,428 C396,454.509668 417.490332,476 444,476 C470.509668,476 492,454.509668 492,428 C492,401.490332 470.509668,380 444,380 Z M580,380 L563,380 L563,476 L580,476 C606.509668,476 628,454.509668 628,428 C628,401.490332 606.509668,380 580,380 Z"></path></g></svg></a></div><div id="-codedoc-container" class="container"><h1 id="just-api-features" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Just-API Features</h1><h2 id="request-specification" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Request Specification</h2><p>A typical request specification includes request method, path, headers, query params, path params, and payload (if applicable).</p><h3 id="request-methods" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Request Methods</h3><p>Just-API supports following HTTP request methods. You can have a request specification with
any of these HTTP methods.</p><ul><li>GET</li><li>POST</li><li>PUT</li><li>PATCH</li><li>DELETE</li><li>HEAD</li><li>OPTIONS</li></ul><h3 id="specifying-headers-cookies-query-params-path-params" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Specifying Headers, Cookies, Query params, Path params</h3><p>Specify Request headers to <code>headers</code> key as a list of name, value pairs.
<br>
Specify Request cookies to <code>cookies</code> key as a list of name, value pairs.
<br>
Specify Request Query params to <code>query_params</code> key as a list of name, value pairs.
<br>
Specify Request Path params to <code>path_params</code> key as a list of name, value pairs.
<br></p><p>A sample test specification with method, headers, cookies, query params and path params:</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: A sample test" id="code1-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> A sample test</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code1-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       path: /user/{userId}/posts/{postId}" id="code1-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">path</span><span class="token punctuation">:</span> /user/<span class="token punctuation">{</span>userId<span class="token punctuation">}</span>/posts/<span class="token punctuation">{</span>postId<span class="token punctuation">}</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       method: get" id="code1-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       headers:" id="code1-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">headers</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="         - name: Accept" id="code1-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>         <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Accept</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="           value: application/json" id="code1-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>           <span class="token key atrule">value</span><span class="token punctuation">:</span> application/json</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       cookies:" id="code1-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">cookies</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="         - name: uid" id="code1-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>         <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> uid</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="           value: 399do284kds32odh28" id="code1-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>           <span class="token key atrule">value</span><span class="token punctuation">:</span> 399do284kds32odh28</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       path_params:" id="code1-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">path_params</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          - name: userId" id="code1-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> userId</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            value: 12876" id="code1-l13"><span class="lineCounter-0-0-12 -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token number">12876</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          - name: postId" id="code1-l14"><span class="lineCounter-0-0-12 -codedoc-line-counter">14<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> postId</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            value: 2" id="code1-l15"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">15<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token number">2</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       query_params:" id="code1-l16"><span class="lineCounter-0-0-12 -codedoc-line-counter">16<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">query_params</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          - name: limit" id="code1-l17"><span class="lineCounter-0-0-12 -codedoc-line-counter">17<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> limit</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            value: 10" id="code1-l18"><span class="lineCounter-0-0-12 -codedoc-line-counter">18<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token number">10</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code1-l19"><span class="lineCounter-0-0-12 -codedoc-line-counter">19<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       status_code: 200" id="code1-l20"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">20<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><h3 id="request-body-specification" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Request Body Specification</h3><p>When you need to send request body for POST, PUT and PATCH requests, you can specify the body to <code>payload</code> key.</p><p>You will need to specify <code>content-type</code> header and body <code>type</code> as shown below
Here's how to send JSON body with a POST request</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: create a new user" id="code2-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> create a new user</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code2-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code2-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: post" id="code2-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> post</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      headers:" id="code2-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">headers</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        - name: content-type" id="code2-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> content<span class="token punctuation">-</span>type</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          value: application/json" id="code2-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">value</span><span class="token punctuation">:</span> application/json</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      payload:" id="code2-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">payload</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          body:" id="code2-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">body</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            type: json" id="code2-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token key atrule">type</span><span class="token punctuation">:</span> json</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            content:" id="code2-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token key atrule">content</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="              firstName: john" id="code2-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>              <span class="token key atrule">firstName</span><span class="token punctuation">:</span> john</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="              lastName: doe" id="code2-l13"><span class="lineCounter-0-0-12 -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>              <span class="token key atrule">lastName</span><span class="token punctuation">:</span> doe</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code2-l14"><span class="lineCounter-0-0-12 -codedoc-line-counter">14<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 201" id="code2-l15"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">15<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">201</span></div><br></code></pre><p>You can also send binary data as body from a file as shown below.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: post binary data (file) as body" id="code3-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> post binary data (file) as body</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code3-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /uploadImage" id="code3-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /uploadImage</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: post" id="code3-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> post</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      headers:" id="code3-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">headers</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        - name: content-type" id="code3-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> content<span class="token punctuation">-</span>type</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          value: image/png" id="code3-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">value</span><span class="token punctuation">:</span> image/png</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      payload:" id="code3-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">payload</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          body:" id="code3-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">body</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            type: binary" id="code3-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token key atrule">type</span><span class="token punctuation">:</span> binary</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            content: static/assets/image.png # Image path" id="code3-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token key atrule">content</span><span class="token punctuation">:</span> static/assets/image.png <span class="token comment"># Image path</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code3-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code3-l13"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><p>Note that the image path should be relative to Node process's current working directory or relative to suite's path if you set <code>locate_files_relative</code> to true in <code>meta</code> section of the suite.</p><p>Checkout more examples on how to specify request body <a href="https://github.com/matmar10/rest-ez/blob/master/test/cli/src/suites/postrawbody.suite.yml">here</a></p><h3 id="x-www-form-urlencoded-multipart-requests-file-uploads" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>x-www-form-urlencoded, Multipart requests, file uploads</h3><p>Just-API supports <code>x-www-form-urlencoded</code> and <code>multipart/form-data</code> requests, using which you can upload files and perform tests on complex requests.</p><h4 id="specify-x-www-form-urlencoded-request" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span><strong>specify <code>x-www-form-urlencoded</code> request</strong></h4><p>To create a <code>x-www-form-urlencoded</code> request test, you will need to specify the <code>content-type</code> header and form body like below:</p><p>Note that <code>payload</code> should have a key <code>form</code> and it should contain form data in key value pairs.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: Authenticate a user" id="code4-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Authenticate a user</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code4-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /authenticate" id="code4-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /authenticate</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: post" id="code4-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> post</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      headers:" id="code4-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">headers</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        - name: content-type" id="code4-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> content<span class="token punctuation">-</span>type</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          value: application/x-www-form-urlencoded" id="code4-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">value</span><span class="token punctuation">:</span> application/x<span class="token punctuation">-</span>www<span class="token punctuation">-</span>form<span class="token punctuation">-</span>urlencoded</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      payload:" id="code4-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">payload</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          form:" id="code4-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">form</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            userName: john.doe" id="code4-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token key atrule">userName</span><span class="token punctuation">:</span> john.doe</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            password: john.doe.password" id="code4-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token key atrule">password</span><span class="token punctuation">:</span> john.doe.password</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code4-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code4-l13"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><p>More examples on <code>x-www-form-urlencoded</code> tests can be found <a href="https://github.com/matmar10/rest-ez/blob/master/test/cli/src/suites/urlencodeformpost.suite.yml">here</a></p><h4 id="specify-multipartform-data-request" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span><strong>specify <code>multipart/form-data</code> request</strong></h4><p>Here's how you can specify a multipart request.</p><p>Note that <code>payload</code> should have a key <code>form_data</code> and it should contain list of form data fields.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: post multipart form data - single file and field" id="code5-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> post multipart form data <span class="token punctuation">-</span> single file and field</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code5-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /imageNText" id="code5-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /imageNText</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: post" id="code5-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> post</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      headers:" id="code5-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">headers</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        - name: content-type" id="code5-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> content<span class="token punctuation">-</span>type</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          value: multipart/form-data" id="code5-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">value</span><span class="token punctuation">:</span> multipart/form<span class="token punctuation">-</span>data</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      payload:" id="code5-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">payload</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          form_data:" id="code5-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">form_data</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            - name: image_name" id="code5-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> image_name</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="              content: static/assets/logo.png # file path" id="code5-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>              <span class="token key atrule">content</span><span class="token punctuation">:</span> static/assets/logo.png <span class="token comment"># file path</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="              type: file" id="code5-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>              <span class="token key atrule">type</span><span class="token punctuation">:</span> file</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            - name: field1" id="code5-l13"><span class="lineCounter-0-0-12 -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> field1</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="              content: value1" id="code5-l14"><span class="lineCounter-0-0-12 -codedoc-line-counter">14<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>              <span class="token key atrule">content</span><span class="token punctuation">:</span> value1</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="              type: text" id="code5-l15"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">15<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>              <span class="token key atrule">type</span><span class="token punctuation">:</span> text</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code5-l16"><span class="lineCounter-0-0-12 -codedoc-line-counter">16<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code5-l17"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">17<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><p>More examples on <code>multipart/form-data</code> tests can be found <a href="https://github.com/matmar10/rest-ez/blob/master/test/cli/src/suites/multipartformpost.suite.yml">here</a></p><h2 id="response-validation" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Response Validation</h2><p>Just-API allows you to validate response without writing any code, you can validate following in a response by specifying what to validate.</p><ul><li>Status code</li><li>Headers</li><li>Cookies</li><li>JSON schema</li><li>JSON body</li></ul><p>You can also have a custom validator function that implements your custom validation logic.</p><h3 id="status-code-validation" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Status code validation</h3><p>Provide <code>status_code</code> attribute in response and Just-API matches Response's Status code against the specification.
Test will fail when Actual response's status code does not match with specified value.</p><p>A sample:</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: get users" id="code6-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> get users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code6-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code6-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code6-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code6-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 400" id="code6-l6"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">400</span></div><br></code></pre><h3 id="headers-validation" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Headers validation</h3><p>When you specify headers in response, Just-API will validate response headers against your specification.</p><p>A sample on how to write headers validation.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: get users" id="code7-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> get users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code7-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code7-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code7-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code7-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      headers:" id="code7-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">headers</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        - name: content-type" id="code7-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> content<span class="token punctuation">-</span>type</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          value: application/json" id="code7-l8"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">value</span><span class="token punctuation">:</span> application/json</div><br></code></pre><p>You can even match header against a regex instead of exact value, like below:</p><p>Following response specification would check if response header <em>content-type</em> matches with regex pattern <em>'json'</em>.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: get users" id="code8-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> get users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code8-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code8-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code8-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code8-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      headers:" id="code8-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">headers</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        - name: content-type" id="code8-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> content<span class="token punctuation">-</span>type</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          value: !!js/regexp /json/" id="code8-l8"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token tag">!!js/regexp</span> /json/</div><br></code></pre><p>More examples on response header validation can be found <a href="https://github.com/matmar10/rest-ez/blob/master/test/cli/src/suites/headers.suite.yaml">here</a></p><h3 id="cookies-validation" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Cookies validation</h3><p>When you specify cookies in response, Just-API will validate response cookies against your specification.</p><p>A sample on how to write cookies validation.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: get users" id="code9-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> get users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code9-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code9-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code9-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code9-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      cookies:" id="code9-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">cookies</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        - name: uid" id="code9-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> uid</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          value: xxxxxx" id="code9-l8"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">value</span><span class="token punctuation">:</span> xxxxxx</div><br></code></pre><p>You can even match cookie value against a regex instead of exact value, like below:</p><p>Following response specification would check if response cookie <em>uid</em> matches with regex pattern <em>/[0-9]+/</em>.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: get users" id="code10-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> get users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code10-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code10-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code10-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code10-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      cookies:" id="code10-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">cookies</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        - name: uid" id="code10-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> uid</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          value: !!js/regexp /[0-9]+/" id="code10-l8"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token tag">!!js/regexp</span> /<span class="token punctuation">[</span>0<span class="token punctuation">-</span><span class="token number">9</span><span class="token punctuation">]</span>+/</div><br></code></pre><p>More examples on response cookie validation can be found <a href="https://github.com/matmar10/rest-ez/blob/master/test/cli/src/suites/cookies.suite.yml">here</a></p><h3 id="response-json-schema-validation" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Response JSON schema validation</h3><p>Sometimes you may want to validate the schema of JSON received in response's body, which will allow you to ensure that server is sending data exactly what you are expecting.</p><p>with Just-API, you can validate the response JSON schema by specifying the <code>json_schema</code> attribute in response.</p><p>Following sample shows how to read expected schema from a file and validate response JSON body against it. Here json_schema has two fields, <code>type</code> key can be either file or inline.
When <code>type</code> is file, you need to provide the relative path to schema file to <code>$ref</code> key.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: get users" id="code11-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> get users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code11-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code11-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code11-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code11-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      json_schema:" id="code11-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">json_schema</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          type: file" id="code11-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">type</span><span class="token punctuation">:</span> file</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          $ref: static/schema/expected_schema_for_users.json #path to the expected schema file" id="code11-l8"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">$ref</span><span class="token punctuation">:</span> static/schema/expected_schema_for_users.json <span class="token comment">#path to the expected schema file</span></div><br></code></pre><p>You can also specify expected JSON schema in YAML by setting type as <code>inline</code> and assigning a string to <code>$ref</code> like below:</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: get users" id="code12-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> get users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code12-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code12-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code12-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code12-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      json_schema:" id="code12-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">json_schema</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          type: inline" id="code12-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          $ref: >" id="code12-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">$ref</span><span class="token punctuation">:</span> <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="                {" id="code12-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>                {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="                  &quot;$id&quot;: &quot;http://example.com/example.json&quot;," id="code12-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>                  "$id": "http://example.com/example.json",</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="                  &quot;type&quot;: &quot;object&quot;," id="code12-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>                  "type": "object",</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="                  &quot;$schema&quot;: &quot;http://json-schema.org/draft-06/schema#&quot;," id="code12-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>                  "$schema": "http://json-schema.org/draft-06/schema#",</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="                  &quot;properties&quot;: {" id="code12-l13"><span class="lineCounter-0-0-12 -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>                  "properties": {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="                    &quot;firstName&quot;: {" id="code12-l14"><span class="lineCounter-0-0-12 -codedoc-line-counter">14<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>                    "firstName": {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="                      &quot;$id&quot;: &quot;/properties/firstName&quot;," id="code12-l15"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">15<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>                      "$id": "/properties/firstName",</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="                      &quot;type&quot;: &quot;string&quot;" id="code12-l16"><span class="lineCounter-0-0-12 -codedoc-line-counter">16<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>                      "type": "string"</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="                    }" id="code12-l17"><span class="lineCounter-0-0-12 -codedoc-line-counter">17<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>                    }</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="                  }" id="code12-l18"><span class="lineCounter-0-0-12 -codedoc-line-counter">18<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>                  }</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="                }" id="code12-l19"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">19<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>                }</div><br></code></pre><p>If you are not sure about JSON schema standard, Please refer to <a href="http://json-schema.org/">JSON schema</a></p><p>More examples on response JSON schema validation can be found <a href="https://github.com/matmar10/rest-ez/blob/master/test/cli/src/suites/jsonschema.suite.yml">here</a></p><h3 id="response-json-body-validation" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Response JSON body validation</h3><p>When you want to validate one or many fields of response JSON, you can do so by providing <code>json_data</code> as part of response specification.</p><p><code>json_data</code> should have a list of pairs of path &amp; value, where path tells Just-API how to locate the field, and value is the expected value for that field.</p><p>Following sample shows that.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: get users" id="code13-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> get users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code13-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code13-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code13-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code13-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      json_data:" id="code13-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">json_data</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        - path: $.[0].firstName" id="code13-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token punctuation">-</span> <span class="token key atrule">path</span><span class="token punctuation">:</span> $.<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>.firstName</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          value: john" id="code13-l8"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">value</span><span class="token punctuation">:</span> john</div><br></code></pre><p>If you are not sure on how to generate JSON path, Please refer to <a href="https://github.com/dchester/jsonpath">JSON path</a></p><p>More examples on response JSON data validation can be found <a href="https://github.com/matmar10/rest-ez/blob/master/test/cli/src/suites/jsondata.suite.yml">here</a></p><h3 id="user-defined-custom-response-validator-functions" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>User defined custom response validator functions</h3><p>When you need to validate a response using your custom logic, you can do so by providing a <code>inline</code> or <code>module</code> custom javascript function to <code>custom_validator</code> attribute.</p><p>Just-API will invoke the custom function by passing the response to function's context, so you can access the response using <code>this.response</code>.</p><p>When you need more details from response, <code>this.response</code> will also have following properties.</p><ul><li>body</li><li>statusCode</li><li>statusMessage</li><li>headers</li><li>body</li><li>duration</li></ul><p>Here's a sample on how to specify a custom inline Javascript function to validate the response</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: get users" id="code14-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> get users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code14-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code14-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code14-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code14-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code14-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      custom_validator:" id="code14-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">custom_validator</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        run_type: inline" id="code14-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">run_type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        inline:" id="code14-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">inline</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          function: !!js/function >" id="code14-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">function</span><span class="token punctuation">:</span> <span class="token tag">!!js/function</span> <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            function() {" id="code14-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            function() {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="              var body = JSON.parse(this.response.body);" id="code14-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>              var body = JSON.parse(this.response.body);</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="" id="code14-l13"><span class="lineCounter-0-0-12 -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="              if (body.users[0].firstName !== 'john')" id="code14-l14"><span class="lineCounter-0-0-12 -codedoc-line-counter">14<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>              if (body.users<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>.firstName <span class="token tag">!==</span> 'john')</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="                  throw new Error(&quot;first user's name is not john&quot;);" id="code14-l15"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">15<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>                  throw new Error("first user's name is not john");</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            }" id="code14-l16"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">16<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token punctuation">}</span></div><br></code></pre><p>You can also specify a custom function defined &amp; exported in a module by providing <code>run_type</code> as module and module path like below.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: get users" id="code15-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> get users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code15-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code15-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code15-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code15-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code15-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      custom_validator:" id="code15-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">custom_validator</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        run_type: module" id="code15-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">run_type</span><span class="token punctuation">:</span> module</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        module:" id="code15-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">module</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          module_path: modules/custom_module.js # module path" id="code15-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">module_path</span><span class="token punctuation">:</span> modules/custom_module.js <span class="token comment"># module path</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          function_name: validateUsersResponse" id="code15-l11"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">function_name</span><span class="token punctuation">:</span> validateUsersResponse</div><br></code></pre><p>More examples on validating response using custom functions can be found <a href="https://github.com/matmar10/rest-ez/blob/master/test/cli/src/suites/customvalidator.suite.yml">here</a></p><h2 id="custom-javascript-functions" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Custom Javascript functions</h2><p>Just-API allows users to specify custom Javascript functions for (hooks and custom validator).</p><p>These custom Javascript functions can be inline or defined in a module. They can be synchronous or asynchronous (defined with async keyword).</p><h3 id="cutom-inline-and-module-functions" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Cutom inline and module functions</h3><h4 id="custom-inline-function" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>custom inline function</h4><p>An <code>inline</code> synchronous function is defined as below.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  custom_validator:" id="code16-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">custom_validator</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    run_type: inline" id="code16-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">run_type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    inline:" id="code16-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">inline</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      function: !!js/function >" id="code16-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">function</span><span class="token punctuation">:</span> <span class="token tag">!!js/function</span> <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        function() {" id="code16-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        function() {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          // some custom code here..." id="code16-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          // some custom code here...</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        }" id="code16-l7"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        }</div><br></code></pre><p>Note that run_type is <code>inline</code> and function is mapped to function key of <code>inline</code> attribute. Tagging with <code>!!js/function</code> is how you tell Just-API parser to consider it as a custom synchronous function.</p><h4 id="custom-module-function" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>custom module function</h4><p>A <code>module</code> synchronous function is specified as below.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content=" custom_validator:" id="code17-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span> <span class="token key atrule">custom_validator</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="   run_type: module" id="code17-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>   <span class="token key atrule">run_type</span><span class="token punctuation">:</span> module</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="   module:" id="code17-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>   <span class="token key atrule">module</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="     module_path: modules/custom_module.js" id="code17-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>     <span class="token key atrule">module_path</span><span class="token punctuation">:</span> modules/custom_module.js</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="     function_name: customFunctionName" id="code17-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>     <span class="token key atrule">function_name</span><span class="token punctuation">:</span> customFunctionName</div><br></code></pre><p>Note that run_type is <code>module</code> and function details are mapped to <code>module</code> attribute. <code>module_path</code> has the relative path to the JS file from Node's process's current working directory or relative to suite's path if you set <code>locate_files_relative</code> to true in <code>meta</code> section of the suite.
The JS file is expected to be a standard Node.js module.
<code>function_name</code> is the function exported in the module.</p><h3 id="async-support-for-custom-functions-with-promises" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Async support for custom functions with promises</h3><p>Just-API does not support callback mechanism, Wrap async opeartions with promises and return a promise.</p><p>Custom functions can be asynchronous defined with async keyword, Just-API waits until the promise returned by the async function is resolved or rejected.</p><p>An <code>inline</code> asynchronous function is defined as below.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  custom_validator:" id="code18-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">custom_validator</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    run_type: inline" id="code18-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">run_type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    inline:" id="code18-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">inline</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      function: !js/asyncFunction >" id="code18-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">function</span><span class="token punctuation">:</span> <span class="token tag">!js/asyncFunction</span> <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        async function() {" id="code18-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        async function() {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          // some custom asynchrounous code here..." id="code18-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          // some custom asynchrounous code here...</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        }" id="code18-l7"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        }</div><br></code></pre><p>Note that run_type is <code>inline</code> and function is mapped to function key of <code>inline</code> attribute. Tagging with <code>!js/asyncFunction</code> is how you tell Just-API parser to consider it as a custom asynchronous function.</p><p>A <code>module</code> asynchronous function is specified as below.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content=" custom_validator:" id="code19-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span> <span class="token key atrule">custom_validator</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="   run_type: module" id="code19-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>   <span class="token key atrule">run_type</span><span class="token punctuation">:</span> module</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="   module:" id="code19-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>   <span class="token key atrule">module</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="     module_path: modules/custom_module.js" id="code19-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>     <span class="token key atrule">module_path</span><span class="token punctuation">:</span> modules/custom_module.js</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="     function_name: customAsyncFunctionName" id="code19-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>     <span class="token key atrule">function_name</span><span class="token punctuation">:</span> customAsyncFunctionName</div><br></code></pre><p>Note that run_type is <code>module</code> and function details are mapped to <code>module</code> attribute. <code>module_path</code> has the relative path to the JS file from Node's process's current working directory or relative to suite's path if you set <code>locate_files_relative</code> to true in <code>meta</code> section of the suite. The JS file is expected to be a standard Node.js module.
<code>function_name</code> is the async function defined with async keyword and exported in the module.</p><h2 id="suite-configuration" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Suite configuration</h2><p>When you are running tests, you would want to configure API host, port etc, according to the environment you are testing.</p><p>In order to facilitate this, Just-API provides a <code>configuration</code> section in each suite, where you can have a <code>custom_configuration</code> attribute
and provide a custom JS function to set suite configuration.</p><p>Here's an example to do that with an inline custom JS function.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="configuration:" id="code20-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token key atrule">configuration</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  scheme: https" id="code20-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">scheme</span><span class="token punctuation">:</span> https</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  custom_configuration:" id="code20-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">custom_configuration</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    run_type: inline" id="code20-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">run_type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    inline:" id="code20-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">inline</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      function: !!js/function >" id="code20-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">function</span><span class="token punctuation">:</span> <span class="token tag">!!js/function</span> <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        function() {" id="code20-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        function() {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          if (process.env.TEST_ENVIRONMENT === 'Dev') {" id="code20-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          if (process.env.TEST_ENVIRONMENT === 'Dev') {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="             this.host = 'dev-host.com';" id="code20-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>             this.host = 'dev-host.com';</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          }" id="code20-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          }</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="" id="code20-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          if (process.env.TEST_ENVIRONMENT === 'QA') {" id="code20-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          if (process.env.TEST_ENVIRONMENT === 'QA') <span class="token punctuation">{</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            this.host = 'qa-host.com';" id="code20-l13"><span class="lineCounter-0-0-12 -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            this.host = 'qa<span class="token punctuation">-</span>host.com';</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          }" id="code20-l14"><span class="lineCounter-0-0-12 -codedoc-line-counter">14<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token punctuation">}</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        }" id="code20-l15"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">15<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token punctuation">}</span></div><br></code></pre><p>you can also have a module based custom JS function to configure a suite.</p><p>Note that <code>custom_configuration</code> is optional. you can always specify static suite configuration if test environment details does not change for you.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="configuration:" id="code21-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token key atrule">configuration</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  scheme: https" id="code21-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">scheme</span><span class="token punctuation">:</span> https</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  host: testhost.com" id="code21-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">host</span><span class="token punctuation">:</span> testhost.com</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  port: 8000" id="code21-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8000</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  base_path: /api" id="code21-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">base_path</span><span class="token punctuation">:</span> /api</div><br></code></pre><p>See More examples <a href="https://github.com/matmar10/rest-ez/tree/master/test/cli/src/suites/suiteconfig">here</a></p><h2 id="hooks" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Hooks</h2><p>Just-API supports following hooks so it's easy to manage tests.</p><p><strong>Suite specific hooks</strong></p><p>  These can be specified as part of <code>hooks</code> attribute.</p><ul><li>Before all  (runs before all specs in a suite)</li><li>After all   (runs after all specs in a suite)</li><li>Before each  (runs before each spec in a suite )</li><li>After each  (runs after each passed spec in a suite )</li></ul><p><strong>Test specific hooks</strong></p><p>   These can be specified for each test as required.</p><ul><li>Before test  (runs before the spec, you can use this hook to setup test pre-requisites )</li><li>After test  (runs after the spec if spec passes, you can use this hook to teardown/clear any test specific data  )</li></ul><p>Check out some samples of hooks <a href="https://github.com/matmar10/rest-ez/tree/master/test/cli/src/suites/hooks">here</a></p><h2 id="dynamic-request-construction" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Dynamic request construction</h2><p>Static specification of a request is not possible all the time. Sometimes a test depends on data returned by another request, where you would want to run the dependency spec first and fetch required data from it and pass it on to current test request. To handle usecases like this, Just-API provides a <code>before_test</code> hook for every test. Using this hook you can run test pre-requisites and update request data for actual test.</p><p>Typically we need to build dynamic requests when a request depends on the data received from another request. In such cases, you
can run the dependency spec in before_test hook and use the response to build the actual request for test.</p><h3 id="headers" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Headers</h3><p>Updating or overriding request headers in <code>before test</code> hook:</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: send headers specified in before test hook" id="code22-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> send headers specified in before test hook</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    before_test:" id="code22-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">before_test</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      run_type: inline" id="code22-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">run_type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      inline:" id="code22-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">inline</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        function: !!js/function >" id="code22-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">function</span><span class="token punctuation">:</span> <span class="token tag">!!js/function</span> <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          function() {" id="code22-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          function() {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            this.test.headers = { Authorization: 'some token' };" id="code22-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            this.test.headers = { Authorization: 'some token' };</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          }" id="code22-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          }</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code22-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code22-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code22-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code22-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code22-l13"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><h3 id="cookies" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Cookies</h3><p>Updating or overriding request cookies in <code>before test</code> hook:</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: send cookies specified in before test hook" id="code23-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> send cookies specified in before test hook</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    before_test:" id="code23-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">before_test</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      run_type: inline" id="code23-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">run_type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      inline:" id="code23-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">inline</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        function: !!js/function >" id="code23-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">function</span><span class="token punctuation">:</span> <span class="token tag">!!js/function</span> <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          function() {" id="code23-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          function() {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            this.test.cookies = { uid: 'some token' };" id="code23-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            this.test.cookies = { uid: 'some token' };</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          }" id="code23-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          }</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code23-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code23-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code23-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code23-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code23-l13"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><h3 id="query-params" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Query params</h3><p>Updating or overriding request query params in <code>before test</code> hook:</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: Query params added in hook" id="code24-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Query params added in hook</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    before_test:" id="code24-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">before_test</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      run_type: inline" id="code24-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">run_type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      inline:" id="code24-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">inline</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        function: !!js/function >" id="code24-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">function</span><span class="token punctuation">:</span> <span class="token tag">!!js/function</span> <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          function() {" id="code24-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          function() {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            this.test.query_params = { limit: 10 };" id="code24-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            this.test.query_params = { limit: 10 };</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          }" id="code24-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          }</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code24-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       path: /users" id="code24-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       method: get" id="code24-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code24-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       status_code: 200" id="code24-l13"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><h3 id="path-params" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Path params</h3><p>Updating or overriding request Path params in <code>before test</code> hook:</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: path params added in hook" id="code25-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> path params added in hook</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    before_test:" id="code25-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">before_test</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      run_type: inline" id="code25-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">run_type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      inline:" id="code25-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">inline</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        function: !!js/function >" id="code25-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">function</span><span class="token punctuation">:</span> <span class="token tag">!!js/function</span> <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          function() {" id="code25-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          function() {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            this.test.path_params = { id: 1 };" id="code25-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            this.test.path_params = { id: 1 };</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          }" id="code25-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          }</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code25-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       path: /user/{id}" id="code25-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">path</span><span class="token punctuation">:</span> /user/<span class="token punctuation">{</span>id<span class="token punctuation">}</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       method: get" id="code25-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code25-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       status_code: 200" id="code25-l13"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><h3 id="body" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Body</h3><p>You can also define request payload at runtime using hook like below:</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: Payload defined in hook" id="code26-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Payload defined in hook</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    before_test:" id="code26-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">before_test</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      run_type: inline" id="code26-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">run_type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      inline:" id="code26-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">inline</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        function: !!js/function >" id="code26-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">function</span><span class="token punctuation">:</span> <span class="token tag">!!js/function</span> <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          function() {" id="code26-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          function() {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            this.test.payload = { body: {type: 'json', content: { firstName: 'john'," id="code26-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            this.test.payload = { body: {type: 'json', content: { firstName: 'john',</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="             lastName: 'doe'}} };" id="code26-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>             lastName: 'doe'}} };</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          }" id="code26-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          }</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code26-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       path: /users" id="code26-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       method: post" id="code26-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">method</span><span class="token punctuation">:</span> post</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       headers:" id="code26-l13"><span class="lineCounter-0-0-12 -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">headers</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="         - name: content-type" id="code26-l14"><span class="lineCounter-0-0-12 -codedoc-line-counter">14<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>         <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> content<span class="token punctuation">-</span>type</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="           value: application/json" id="code26-l15"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">15<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>           <span class="token key atrule">value</span><span class="token punctuation">:</span> application/json</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code26-l16"><span class="lineCounter-0-0-12 -codedoc-line-counter">16<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="       status_code: 201" id="code26-l17"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">17<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>       <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">201</span></div><br></code></pre><h2 id="custom-context" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Custom context</h2><p>You will have access to suite context and test context in hooks, So you can use them as a way to store custom data to use in later hooks.</p><p>Suite context can be accessed in hooks using <code>this.suite</code>.
Test context can be accessed in test specific hooks using 'this.test'.</p><h3 id="storing-suite--test-data-in-context-for-reuse" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Storing suite &amp; test data in context for reuse</h3><p>When you have some data that you want to use later in some tests, you can store the data in suite context in <code>before_all</code> hook.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  before_all:" id="code27-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">before_all</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    run_type: inline" id="code27-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">run_type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    inline:" id="code27-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">inline</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      function: !!js/function >" id="code27-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">function</span><span class="token punctuation">:</span> <span class="token tag">!!js/function</span> <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        function() {" id="code27-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        function() {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="           this.suite.serviceSecret = 'secret';" id="code27-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>           this.suite.serviceSecret = 'secret';</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        }" id="code27-l7"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        }</div><br></code></pre><p>and later when you need the secret in a test, you can access it in before_test hook.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: using suite context in before test hook" id="code28-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> using suite context in before test hook</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    before_test:" id="code28-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">before_test</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      run_type: inline" id="code28-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">run_type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      inline:" id="code28-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">inline</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        function: !!js/function >" id="code28-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">function</span><span class="token punctuation">:</span> <span class="token tag">!!js/function</span> <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          function() {" id="code28-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          function() {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="              this.test.headers = { Authorization: this.suite.serviceSecret };" id="code28-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>              this.test.headers = { Authorization: this.suite.serviceSecret };</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          }" id="code28-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          }</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code28-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code28-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code28-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code28-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code28-l13"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><p>Similarly you can set test context in before_test hook using <code>this.test</code> and access it using `this.test' in after_test hook.</p><h2 id="spec-dependencies" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Spec dependencies</h2><p>Just-API allows testing APIs in a flow, where one request depends on response data from another request. This is really useful when you are testing complex transaction APIs.</p><h3 id="running-dependencies" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Running dependencies</h3><p>Running pre-requisite requests can be done using hooks. There is <code>before_each</code> and <code>before_test</code> hooks.</p><p>If you have a dependency specific to a test, then you might want to use <code>before_test</code> hook to run the dependecy spec.</p><p>There is support for 2 types of dependencies, <code>Intrasuite</code> &amp; <code>Intersuite</code> spec.</p><h3 id="intrasuite-spec-dependencies" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Intrasuite spec dependencies</h3><p>Intrasuite dependency is when you have a dependency that is specified in the same suite. You can then run the dependency by
using <code>this.runSpec()</code> in a hook. runSpec function takes 2 arguments. First argument is the name of your dependency spec and second argument is an object with additional information you want to pass to the request such as headers, query params, path params, and body.</p><p>Following set of specs show how to run dependencies as part of a test and use the data for subsequent requests.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="specs:" id="code29-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token key atrule">specs</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: this is the dependency spec" id="code29-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> this is the dependency spec</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    enabled: false" id="code29-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code29-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /token" id="code29-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /token</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code29-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code29-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code29-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="" id="code29-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: actual test spec" id="code29-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> actual test spec</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    before_test:" id="code29-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">before_test</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      run_type: inline" id="code29-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">run_type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      inline:" id="code29-l13"><span class="lineCounter-0-0-12 -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">inline</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        function: !js/asyncFunction >" id="code29-l14"><span class="lineCounter-0-0-12 -codedoc-line-counter">14<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">function</span><span class="token punctuation">:</span> <span class="token tag">!js/asyncFunction</span> <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          async function() {" id="code29-l15"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">15<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          async function() {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            var response = await this.runSpec('this is the dependency spec');" id="code29-l16"><span class="lineCounter-0-0-12 -codedoc-line-counter">16<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            var response = await this.runSpec('this is the dependency spec');</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            var tokenResponse = JSON.parse(response.body);" id="code29-l17"><span class="lineCounter-0-0-12 -codedoc-line-counter">17<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            var tokenResponse = JSON.parse(response.body);</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            this.test.headers = { Authorization:  tokenResponse.token };" id="code29-l18"><span class="lineCounter-0-0-12 -codedoc-line-counter">18<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            this.test.headers = { Authorization:  tokenResponse.token };</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          }" id="code29-l19"><span class="lineCounter-0-0-12 -codedoc-line-counter">19<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          }</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code29-l20"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">20<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code29-l21"><span class="lineCounter-0-0-12 -codedoc-line-counter">21<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code29-l22"><span class="lineCounter-0-0-12 -codedoc-line-counter">22<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code29-l23"><span class="lineCounter-0-0-12 -codedoc-line-counter">23<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code29-l24"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">24<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><h3 id="intersuite-spec-dependencies" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Intersuite spec dependencies</h3><p>Intersuite dependency is when you have a dependency that is specified in another suite but you import it using <code>spec_dependencies</code> construct.</p><p>Running Intersuite dependency is similar to running Intrasuite dependency.</p><p>You can import specs defined in another suite by providing the path of the suite to <code>spec_dependencies</code>.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="spec_dependencies:" id="code30-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token key atrule">spec_dependencies</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  - suites/anothersuite.yml" id="code30-l2"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> suites/anothersuite.yml</div><br></code></pre><p>Path is relative to current working directory of Node process or relative to suite's path if you set <code>locate_files_relative</code> to true in <code>meta</code> section of the suite.</p><p>You can import specs from one or more suites by listing their paths.</p><p>Note that these imported specs will only be available when you run them using <code>this.runSpec</code>.</p><p>Please find some examples on dependencies <a href="https://github.com/matmar10/rest-ez/blob/master/test/cli/src/suites/suitedependencies/intersuitedeps.suite.yml">here</a></p><h2 id="skipping" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Skipping</h2><p>You can explicitly skip suites and tests with specification.</p><h3 id="skipping-a-suite" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Skipping a suite</h3><p> When you have a suite in a directory, but want to skip running it for some reason, you can do so by providing
  <code>false</code> as value for enabled key of <code>meta</code> section in a suite, Just-API will skip the suite.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content=" meta:" id="code31-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span> <span class="token key atrule">meta</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  name: Disabled suite" id="code31-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">name</span><span class="token punctuation">:</span> Disabled suite</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  enabled: false" id="code31-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="configuration:" id="code31-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token key atrule">configuration</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  scheme: http" id="code31-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">scheme</span><span class="token punctuation">:</span> http</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  host: 127.0.0.1" id="code31-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">host</span><span class="token punctuation">:</span> 127.0.0.1</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="specs:" id="code31-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token key atrule">specs</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: get users" id="code31-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> get users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code31-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code31-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code31-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code31-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code31-l13"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><p>Note that if any error occurs before Just-API reads <code>meta</code> info of the suite, then suite will be marked as failure.</p><h3 id="skipping-a-test" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Skipping a test</h3><p>When you have a set of specs in a suite, but want to skip a spec, you can do so by providing <code>false</code> as value for enabled key of the spec.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: disabled spec" id="code32-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> disabled spec</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    enabled: false" id="code32-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code32-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /" id="code32-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code32-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code32-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code32-l7"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><p>Just-API will mark the spec as a skipped test.</p><h2 id="reusing-test-specification" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>reusing test specification</h2><p>Apart from readability, an awesome thing about YAML is that you can reuse parts of the specification.</p><p>Refer to <a href="https://blog.daemonl.com/2016/02/yaml.html">dry</a> to see how you can reuse stuff in YAML.</p><p>you can see how response specification is being reused below with <code>&amp;</code> and <code>*</code></p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="meta:" id="code33-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token key atrule">meta</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  name: suite name" id="code33-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">name</span><span class="token punctuation">:</span> suite name</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="configuration:" id="code33-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token key atrule">configuration</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  scheme: http" id="code33-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">scheme</span><span class="token punctuation">:</span> http</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  host: example.com" id="code33-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token key atrule">host</span><span class="token punctuation">:</span> example.com</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="specs:" id="code33-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token key atrule">specs</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: get user1" id="code33-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> get user1</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code33-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users/1" id="code33-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users/1</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code33-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response: &amp;default_response" id="code33-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span> <span class="token important">&amp;default_response</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code33-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="" id="code33-l13"><span class="lineCounter-0-0-12 -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: get user2" id="code33-l14"><span class="lineCounter-0-0-12 -codedoc-line-counter">14<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> get user2</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request: &amp;default_request" id="code33-l15"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">15<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span> <span class="token important">&amp;default_request</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users/1" id="code33-l16"><span class="lineCounter-0-0-12 -codedoc-line-counter">16<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users/1</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code33-l17"><span class="lineCounter-0-0-12 -codedoc-line-counter">17<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response: *default_response" id="code33-l18"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">18<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span> <span class="token important">*default_response</span></div><br></code></pre><h2 id="retrying-failed-tests" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Retrying failed tests</h2><p>Sometimes a resource takes a bit of time to get to a state you expect, for instance when you are polling a job status and it goes
to completed state after a while. In such cases, you would want to retry hitting the same request few times.</p><p>If you see below sample, response specification says expect 200 status code. If the response validation fails then Just-API attempts to retry the request if you have specified a <code>retry</code> attribute.
Here the request will be attempted 3 times denoted by <code>count</code> with 10ms wait before each attempt.</p><p><code>wait_before_each</code> is an optional attribute to specify how many milliseconds you want to wait before each attempt.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: retry example" id="code34-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> retry example</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code34-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /retryPath" id="code34-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /retryPath</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code34-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    retry:" id="code34-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">retry</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      count: 3" id="code34-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">count</span><span class="token punctuation">:</span> <span class="token number">3</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      wait_before_each: 10" id="code34-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">wait_before_each</span><span class="token punctuation">:</span> <span class="token number">10</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code34-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code34-l9"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><h2 id="looping" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Looping</h2><p>You can use the loop construct to loop through a list of items, each item generating a test.</p><p>The list of items can be specified in spec beforehand or you can specify a custom JS function which returns a list of items.</p><p>Here's how a static loop is specified, <code>type</code> is static and loop list is mapped to <code>static</code> field as list of items.
You will have access to that item in before_test hook by accessing <code>this.loopItem</code>.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: static loop test" id="code35-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> static loop test</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    loop:" id="code35-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">loop</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      type: static" id="code35-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">type</span><span class="token punctuation">:</span> static</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      static:" id="code35-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">static</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        - 2" id="code35-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token punctuation">-</span> <span class="token number">2</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        - 3" id="code35-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token punctuation">-</span> <span class="token number">3</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    before_test:" id="code35-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">before_test</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      run_type: inline" id="code35-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">run_type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      inline:" id="code35-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">inline</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        function: !!js/function >" id="code35-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">function</span><span class="token punctuation">:</span> <span class="token tag">!!js/function</span> <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          function() {" id="code35-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          function() {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            this.test.query_params = { limit : this.loopItem };" id="code35-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            this.test.query_params = { limit : this.loopItem };</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          }" id="code35-l13"><span class="lineCounter-0-0-12 -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          }</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code35-l14"><span class="lineCounter-0-0-12 -codedoc-line-counter">14<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code35-l15"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">15<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code35-l16"><span class="lineCounter-0-0-12 -codedoc-line-counter">16<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code35-l17"><span class="lineCounter-0-0-12 -codedoc-line-counter">17<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code35-l18"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">18<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><p>There's another way to provide a list of items, with <code>dynamic</code> type and a custom JS function.</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: dynamic loop test" id="code36-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> dynamic loop test</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    loop:" id="code36-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">loop</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      type: dynamic" id="code36-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">type</span><span class="token punctuation">:</span> dynamic</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      dynamic:" id="code36-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">dynamic</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        run_type: inline" id="code36-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">run_type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        inline:" id="code36-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">inline</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          function: !!js/function  >" id="code36-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          <span class="token key atrule">function</span><span class="token punctuation">:</span> <span class="token tag">!!js/function</span>  <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            function() {" id="code36-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            function() {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="              return [2, 3];" id="code36-l9"><span class="lineCounter-0-0-12 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>              return [2, 3];</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            }           " id="code36-l10"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            }           </div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    before_test:" id="code36-l11"><span class="lineCounter-0-0-12 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">before_test</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      run_type: inline" id="code36-l12"><span class="lineCounter-0-0-12 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">run_type</span><span class="token punctuation">:</span> inline</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      inline:" id="code36-l13"><span class="lineCounter-0-0-12 -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">inline</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        function: !!js/function >" id="code36-l14"><span class="lineCounter-0-0-12 -codedoc-line-counter">14<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">function</span><span class="token punctuation">:</span> <span class="token tag">!!js/function</span> <span class="token punctuation">&gt;</span><span class="token scalar string"></span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          function() {" id="code36-l15"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">15<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          function() {</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="            this.test.query_params = { limit : this.loopItem };" id="code36-l16"><span class="lineCounter-0-0-12 -codedoc-line-counter">16<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            this.test.query_params = { limit : this.loopItem };</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="          }           " id="code36-l17"><span class="lineCounter-0-0-12 -codedoc-line-counter">17<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>          }           </div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code36-l18"><span class="lineCounter-0-0-12 -codedoc-line-counter">18<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /users" id="code36-l19"><span class="lineCounter-0-0-12 -codedoc-line-counter">19<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /users</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code36-l20"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">20<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code36-l21"><span class="lineCounter-0-0-12 -codedoc-line-counter">21<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code36-l22"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">22<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><p>Note that if your loop has a list of n items, n tests will be generated at runtime.</p><h2 id="additional-features" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Additional features</h2><p>Following are some additional features offered by Just-API.</p><h3 id="reports-test-duration" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>reports test duration</h3><p>Just-API reports duration of each test run in all formats of reports.</p><h3 id="running-only-tests-matching-with-a-given-patterntext" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>running only tests matching with a given pattern/text</h3><p>If you want to run only specs matches with a given text or pattern, you can do so by using <code>--grep</code> option.</p><p>Following invocation will run all specs whose name matches with 'user' string.</p><pre class=""><code class="bash -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="./node_modules/.bin/just-api --grep user specs" id="code37-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="termPrefix-0-0-13 -codedoc-code-term-prefix">$</span>./node_modules/.bin/just-api --grep user specs</div><br></code></pre><h3 id="additional-request-options" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Additional request options</h3><p>Following additional request options are supported.</p><ul><li>followRedirect - follow HTTP 3xx responses as redirects.</li><li>followAllRedirects - follow non-GET HTTP 3xx responses as redirects.</li><li>followOriginalHttpMethod - by default we redirect to HTTP method GET. you can enable this property to redirect to the original HTTP method (default: false)</li><li>encoding - encoding to be used on setEncoding of response data. If null, the body is returned as a Buffer.
Anything else (including the default value of undefined) will be passed as the encoding parameter to toString() (meaning this is effectively utf8 by default). (Note: if you expect binary data, you should set encoding: null.)</li><li>gzip - if true, adds an Accept-Encoding header to request compressed content encodings from the server (if not already present) and decodes supported content encodings in the response.</li></ul><p>A sample spec on how to specify these options:</p><pre class="with-bar"><code class="yaml -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="  - name: spec with redirection disabled" id="code38-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> spec with redirection disabled</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    request:" id="code38-l2"><span class="lineCounter-0-0-12 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">request</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      path: /home" id="code38-l3"><span class="lineCounter-0-0-12 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">path</span><span class="token punctuation">:</span> /home</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      method: get" id="code38-l4"><span class="lineCounter-0-0-12 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">method</span><span class="token punctuation">:</span> get</div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      additional_options:" id="code38-l5"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">additional_options</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        followRedirect: false" id="code38-l6"><span class="lineCounter-0-0-12 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">followRedirect</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="        gzip: true" id="code38-l7"><span class="lineCounter-0-0-12 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token key atrule">gzip</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="    response:" id="code38-l8"><span class="lineCounter-0-0-12 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token key atrule">response</span><span class="token punctuation">:</span></div><br><div class="line-0-0-15  -codedoc-code-line" data-content="      status_code: 200" id="code38-l9"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>      <span class="token key atrule">status_code</span><span class="token punctuation">:</span> <span class="token number">200</span></div><br></code></pre><h3 id="finding-suites-recursively" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Finding suites recursively</h3><p>When you want to run suites stored in a directory hierarchy spanning more than one nested level, you can invoke the Just-API with <code>--recursive</code> option.</p><pre class=""><code class="bash -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="./node_modules/.bin/just-api --recursive specs" id="code39-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="termPrefix-0-0-13 -codedoc-code-term-prefix">$</span>./node_modules/.bin/just-api --recursive specs</div><br></code></pre><h3 id="proper-error-reporting" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Proper error reporting</h3><p>When a test or suite fails, Just-API provides the correct error, that caused the failure in reports.</p><h3 id="exit-code-for-ci-support" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Exit code for CI support</h3><p>Just-API exits with proper exit code, so you can use it in CI to determine the status of your tests.</p><p>Usually exit code is equal to number of failed suites unless some unexpected error occurs.</p><h3 id="logging-http-requestresponse-data-for-failed-tests" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Logging HTTP request/response data for failed tests</h3><p>When a test with multiple dependencies fails it's hard to track which request has failed. To make failure tracking easy, Just-API allows you to ask for HTTP call details for failed tests. You would be able to see all HTTP calls made for a failed test in HTML or JSON report.</p><p>To enable this feature you need to invoke Just-API with <code>--reporter-options logRequests</code></p><pre class=""><code class="bash -codedoc-code-snippet code-0-0-11" tabindex="0"><span class="wmbar-0-0-16"><span></span><span></span><span></span><span></span></span><div class="line-0-0-15  -codedoc-code-line" data-content="./node_modules/.bin/just-api --reporter html --reporter-options logRequests specs" id="code40-l1"><span class="lineCounter-0-0-12 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="termPrefix-0-0-13 -codedoc-code-term-prefix">$</span>./node_modules/.bin/just-api --reporter html --reporter-options logRequests specs</div><br></code></pre><h3 id="no-callbacks" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>No callbacks</h3><p>You might have observed that there is no mention of callbacks anywhere. yes, Just-API does not support callback mechanism when running custom JS functions.
This is to encourage usage of promises for asynchronous operations.</p><p>When you are dealing with asynchronous tasks, wrap them in a async function and return a promise.</p><h2 id="running-suites-in-parallel" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Running suites in parallel</h2><p>See <a href="running-suites-in-parallel">page</a></p><h2 id="reporters" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Reporters</h2><p>See <a href="reporters">page</a></p><div class="contentnav-0-0-10" data-no-search=""><a href="#just-api-features" class="h1" data-content-highlight="just-api-features">Just-API Features</a><a href="#request-specification" class="h2" data-content-highlight="request-specification">Request Specification</a><a href="#request-methods" class="h3" data-content-highlight="request-methods">Request Methods</a><a href="#specifying-headers-cookies-query-params-path-params" class="h3" data-content-highlight="specifying-headers-cookies-query-params-path-params">Specifying Headers, Cookies, Query params, Path params</a><a href="#request-body-specification" class="h3" data-content-highlight="request-body-specification">Request Body Specification</a><a href="#x-www-form-urlencoded-multipart-requests-file-uploads" class="h3" data-content-highlight="x-www-form-urlencoded-multipart-requests-file-uploads">x-www-form-urlencoded, Multipart requests, file uploads</a><a href="#specify-x-www-form-urlencoded-request" class="h4" data-content-highlight="specify-x-www-form-urlencoded-request">specify x-www-form-urlencoded request</a><a href="#specify-multipartform-data-request" class="h4" data-content-highlight="specify-multipartform-data-request">specify multipart/form-data request</a><a href="#response-validation" class="h2" data-content-highlight="response-validation">Response Validation</a><a href="#status-code-validation" class="h3" data-content-highlight="status-code-validation">Status code validation</a><a href="#headers-validation" class="h3" data-content-highlight="headers-validation">Headers validation</a><a href="#cookies-validation" class="h3" data-content-highlight="cookies-validation">Cookies validation</a><a href="#response-json-schema-validation" class="h3" data-content-highlight="response-json-schema-validation">Response JSON schema validation</a><a href="#response-json-body-validation" class="h3" data-content-highlight="response-json-body-validation">Response JSON body validation</a><a href="#user-defined-custom-response-validator-functions" class="h3" data-content-highlight="user-defined-custom-response-validator-functions">User defined custom response validator functions</a><a href="#custom-javascript-functions" class="h2" data-content-highlight="custom-javascript-functions">Custom Javascript functions</a><a href="#cutom-inline-and-module-functions" class="h3" data-content-highlight="cutom-inline-and-module-functions">Cutom inline and module functions</a><a href="#custom-inline-function" class="h4" data-content-highlight="custom-inline-function">custom inline function</a><a href="#custom-module-function" class="h4" data-content-highlight="custom-module-function">custom module function</a><a href="#async-support-for-custom-functions-with-promises" class="h3" data-content-highlight="async-support-for-custom-functions-with-promises">Async support for custom functions with promises</a><a href="#suite-configuration" class="h2" data-content-highlight="suite-configuration">Suite configuration</a><a href="#hooks" class="h2" data-content-highlight="hooks">Hooks</a><a href="#dynamic-request-construction" class="h2" data-content-highlight="dynamic-request-construction">Dynamic request construction</a><a href="#headers" class="h3" data-content-highlight="headers">Headers</a><a href="#cookies" class="h3" data-content-highlight="cookies">Cookies</a><a href="#query-params" class="h3" data-content-highlight="query-params">Query params</a><a href="#path-params" class="h3" data-content-highlight="path-params">Path params</a><a href="#body" class="h3" data-content-highlight="body">Body</a><a href="#custom-context" class="h2" data-content-highlight="custom-context">Custom context</a><a href="#storing-suite--test-data-in-context-for-reuse" class="h3" data-content-highlight="storing-suite--test-data-in-context-for-reuse">Storing suite &amp; test data in context for reuse</a><a href="#spec-dependencies" class="h2" data-content-highlight="spec-dependencies">Spec dependencies</a><a href="#running-dependencies" class="h3" data-content-highlight="running-dependencies">Running dependencies</a><a href="#intrasuite-spec-dependencies" class="h3" data-content-highlight="intrasuite-spec-dependencies">Intrasuite spec dependencies</a><a href="#intersuite-spec-dependencies" class="h3" data-content-highlight="intersuite-spec-dependencies">Intersuite spec dependencies</a><a href="#skipping" class="h2" data-content-highlight="skipping">Skipping</a><a href="#skipping-a-suite" class="h3" data-content-highlight="skipping-a-suite">Skipping a suite</a><a href="#skipping-a-test" class="h3" data-content-highlight="skipping-a-test">Skipping a test</a><a href="#reusing-test-specification" class="h2" data-content-highlight="reusing-test-specification">reusing test specification</a><a href="#retrying-failed-tests" class="h2" data-content-highlight="retrying-failed-tests">Retrying failed tests</a><a href="#looping" class="h2" data-content-highlight="looping">Looping</a><a href="#additional-features" class="h2" data-content-highlight="additional-features">Additional features</a><a href="#reports-test-duration" class="h3" data-content-highlight="reports-test-duration">reports test duration</a><a href="#running-only-tests-matching-with-a-given-patterntext" class="h3" data-content-highlight="running-only-tests-matching-with-a-given-patterntext">running only tests matching with a given pattern/text</a><a href="#additional-request-options" class="h3" data-content-highlight="additional-request-options">Additional request options</a><a href="#finding-suites-recursively" class="h3" data-content-highlight="finding-suites-recursively">Finding suites recursively</a><a href="#proper-error-reporting" class="h3" data-content-highlight="proper-error-reporting">Proper error reporting</a><a href="#exit-code-for-ci-support" class="h3" data-content-highlight="exit-code-for-ci-support">Exit code for CI support</a><a href="#logging-http-requestresponse-data-for-failed-tests" class="h3" data-content-highlight="logging-http-requestresponse-data-for-failed-tests">Logging HTTP request/response data for failed tests</a><a href="#no-callbacks" class="h3" data-content-highlight="no-callbacks">No callbacks</a><a href="#running-suites-in-parallel" class="h2" data-content-highlight="running-suites-in-parallel">Running suites in parallel</a><a href="#reporters" class="h2" data-content-highlight="reporters">Reporters</a></div></div><div id="-codedoc-toc" class="toc-0-0-7"><div class="content-0-0-8"><p><a href="/just-api/">Home</a>
<a href="/just-api/docs/cheat-sheet">Markdown Cheat Sheet</a>
<a href="/just-api/docs/code-features">Code Features</a>
<a href="/just-api/docs/getting-started">Getting Started</a>
<a href="/just-api/docs/basic-concepts">Basic Concepts</a>
<a href="/just-api/docs/cli">CLI</a>
<a href="/just-api/docs/features">Features</a>
<a href="/just-api/docs/reporters">Reporters</a>
<a href="/just-api/docs/examples">Examples</a></p></div><div class="search-0-0-9"><script id="LYbBgrZWLJ">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("LYbBgrZWLJ", "ePx3Ip1OdROStMUOZxejEQ==", {"repo":"just-api","user":"matmar10","root":"docs/md","pick":"\\.md$","drop":"(^_)|(\\/_)"});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></div></div><div class="footer-0-0-6"><div class="left"><script id="cgaJeRUvxC">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("cgaJeRUvxC", "wHR2qYd5AGLncJBGV06XKw==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></div><div class="main"><div class="inside"><a href="https://github.com/matmar10/just-api/" target="_blank">GitHub</a></div></div><div class="right"><script id="shpheGYWZS">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("shpheGYWZS", "A4reX7X0HTZ4h1Wi/ix1Zg==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></div></div><script id="_gzDyfgASe">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("_gzDyfgASe", "iRZyGlavXhCiv9ukkjXn+A==", {"namespace":"/just-api"});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></body></html>